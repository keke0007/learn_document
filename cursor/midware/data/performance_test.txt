中间件性能测试数据记录
======================

测试环境：
- CPU：Intel Xeon E5-2680
- 内存：64GB DDR4
- 存储：SSD 1TB
- 网络：1Gbps

测试1：Redis 性能
---------------
操作类型：SET/GET
- SET QPS：100,000
- GET QPS：100,000
- 延迟：<1ms
- 内存占用：100万条 String 约 100MB

操作类型：Hash
- HGETALL QPS：50,000
- 延迟：<2ms
- 内存占用：10万条 Hash 约 50MB

操作类型：List
- LPUSH QPS：80,000
- 延迟：<1ms
- 内存占用：100万条 List 约 80MB

操作类型：Sorted Set
- ZADD QPS：60,000
- 延迟：<2ms
- 内存占用：100万条 Sorted Set 约 150MB

测试2：MongoDB 性能
-----------------
操作类型：插入
- 插入速度：10万条/5秒
- 单机性能：20,000 ops/s

操作类型：查询
- 无索引查询：10万条/2秒
- 有索引查询：10万条/<100ms
- 性能提升：95%+

操作类型：聚合
- 复杂聚合：10万条/3秒
- 简单聚合：10万条/<1秒

测试3：Elasticsearch 性能
------------------------
操作类型：索引
- 索引速度：100万条/5分钟
- 单机性能：约 3,333 docs/s

操作类型：查询
- 简单查询（Match）：<100ms
- 复杂查询（Bool）：<500ms
- 聚合查询：<1秒

索引大小：
- 原始数据：10GB
- 索引大小：15GB
- 压缩比：1.5:1

测试4：RabbitMQ 性能
-------------------
操作类型：消息发送
- 简单消息：20,000 msg/s
- 延迟：<5ms

操作类型：持久化消息
- 持久化消息：10,000 msg/s
- 延迟：<10ms

操作类型：确认消息
- 确认消息：15,000 msg/s
- 延迟：<8ms

测试5：RocketMQ 性能
-------------------
操作类型：普通消息
- 吞吐量：50,000 msg/s
- 延迟：<5ms

操作类型：顺序消息
- 吞吐量：30,000 msg/s
- 延迟：<10ms

操作类型：事务消息
- 吞吐量：20,000 msg/s
- 延迟：<20ms

测试6：Kafka 性能
---------------
操作类型：Producer
- 单分区：100万 msg/s
- 延迟：<1ms
- 10分区：500万 msg/s
- 延迟：<5ms

操作类型：Consumer
- 单消费者：50万 msg/s
- 延迟：<10ms

存储性能：
- 写入速度：100MB/s
- 读取速度：200MB/s
- 压缩比（Snappy）：3:1

测试7：InfluxDB 性能
-------------------
操作类型：写入
- 写入速度：100万点/10秒
- 单机性能：100,000 points/s

操作类型：查询
- 1小时数据查询：<100ms
- 聚合查询：<2秒

存储效率：
- 原始数据：100GB
- 压缩后：10GB
- 压缩比：10:1

测试8：MinIO 性能
---------------
操作类型：上传
- 100MB 文件：2秒
- 吞吐量：50MB/s

操作类型：下载
- 100MB 文件：1.5秒
- 吞吐量：66MB/s

分布式性能：
- 单节点：100MB/s
- 4节点：350MB/s
- 扩展性：接近线性

性能优化建议
-----------
1. Redis：
   - 使用管道减少网络往返
   - 合理设置过期时间
   - 避免大 Key
   - 使用连接池

2. MongoDB：
   - 为常用查询字段创建索引
   - 使用投影减少数据传输
   - 批量操作提高性能
   - 监控慢查询

3. Elasticsearch：
   - 合理设置分片数
   - 使用 filter 而不是 query
   - 批量操作提高性能
   - 合理设置刷新间隔

4. 消息队列：
   - 批量发送提高吞吐量
   - 合理设置消费者数量
   - 使用消息压缩
   - 监控消息积压

5. InfluxDB：
   - 使用保留策略管理数据
   - 使用连续查询预聚合
   - 批量写入提高性能

6. MinIO：
   - 多部分上传大文件
   - 使用 CDN 加速
   - 合理设置副本数
