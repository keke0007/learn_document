<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”¨æˆ·ç®¡ç†</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
        }
        
        .header h1 {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .content {
            padding: 30px;
        }
        
        .form-section {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: 500;
        }
        
        input, select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-right: 10px;
        }
        
        button:hover {
            background: #45a049;
        }
        
        .btn-danger {
            background: #e74c3c;
        }
        
        .btn-danger:hover {
            background: #c0392b;
        }
        
        .btn-edit {
            background: #2196F3;
        }
        
        .btn-edit:hover {
            background: #1976D2;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background: #f5f5f5;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f9f9f9;
        }
        
        .actions {
            display: flex;
            gap: 10px;
        }
        
        .search-box {
            margin-bottom: 20px;
        }
        
        .search-box input {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="container">
            <div class="header">
                <h1>ğŸ‘¥ ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ</h1>
                <p>æ·»åŠ ã€ç¼–è¾‘å’Œåˆ é™¤ç”¨æˆ·</p>
            </div>
            
            <div class="content">
                <div class="form-section">
                    <h2>{{ editingUser ? 'ç¼–è¾‘ç”¨æˆ·' : 'æ·»åŠ ç”¨æˆ·' }}</h2>
                    <div class="form-group">
                        <label>å§“å</label>
                        <input v-model="formData.name" placeholder="è¾“å…¥å§“å">
                    </div>
                    <div class="form-group">
                        <label>é‚®ç®±</label>
                        <input v-model="formData.email" type="email" placeholder="è¾“å…¥é‚®ç®±">
                    </div>
                    <div class="form-group">
                        <label>å¹´é¾„</label>
                        <input v-model.number="formData.age" type="number" placeholder="è¾“å…¥å¹´é¾„">
                    </div>
                    <div class="form-group">
                        <label>åŸå¸‚</label>
                        <select v-model="formData.city">
                            <option value="">è¯·é€‰æ‹©åŸå¸‚</option>
                            <option value="åŒ—äº¬">åŒ—äº¬</option>
                            <option value="ä¸Šæµ·">ä¸Šæµ·</option>
                            <option value="å¹¿å·">å¹¿å·</option>
                            <option value="æ·±åœ³">æ·±åœ³</option>
                        </select>
                    </div>
                    <button @click="saveUser">{{ editingUser ? 'æ›´æ–°' : 'æ·»åŠ ' }}</button>
                    <button v-if="editingUser" @click="cancelEdit">å–æ¶ˆ</button>
                </div>
                
                <div class="search-box">
                    <input v-model="searchQuery" placeholder="æœç´¢ç”¨æˆ·ï¼ˆå§“åã€é‚®ç®±ã€åŸå¸‚ï¼‰">
                </div>
                
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>å§“å</th>
                            <th>é‚®ç®±</th>
                            <th>å¹´é¾„</th>
                            <th>åŸå¸‚</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="user in filteredUsers" :key="user.id">
                            <td>{{ user.id }}</td>
                            <td>{{ user.name }}</td>
                            <td>{{ user.email }}</td>
                            <td>{{ user.age }}</td>
                            <td>{{ user.city }}</td>
                            <td>
                                <div class="actions">
                                    <button class="btn-edit" @click="editUser(user)">ç¼–è¾‘</button>
                                    <button class="btn-danger" @click="deleteUser(user.id)">åˆ é™¤</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
                
                <div style="margin-top: 20px; color: #666;">
                    å…± {{ filteredUsers.length }} ä¸ªç”¨æˆ·
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    users: [
                        { id: 1, name: 'å¼ ä¸‰', email: 'zhang@example.com', age: 25, city: 'åŒ—äº¬' },
                        { id: 2, name: 'æå››', email: 'li@example.com', age: 30, city: 'ä¸Šæµ·' },
                        { id: 3, name: 'ç‹äº”', email: 'wang@example.com', age: 28, city: 'å¹¿å·' }
                    ],
                    formData: {
                        name: '',
                        email: '',
                        age: null,
                        city: ''
                    },
                    editingUser: null,
                    nextId: 4,
                    searchQuery: ''
                }
            },
            computed: {
                filteredUsers() {
                    if (!this.searchQuery) {
                        return this.users;
                    }
                    const query = this.searchQuery.toLowerCase();
                    return this.users.filter(user => 
                        user.name.toLowerCase().includes(query) ||
                        user.email.toLowerCase().includes(query) ||
                        user.city.toLowerCase().includes(query)
                    );
                }
            },
            methods: {
                saveUser() {
                    if (!this.formData.name || !this.formData.email) {
                        alert('è¯·å¡«å†™å§“åå’Œé‚®ç®±');
                        return;
                    }
                    
                    if (this.editingUser) {
                        // æ›´æ–°ç”¨æˆ·
                        const index = this.users.findIndex(u => u.id === this.editingUser.id);
                        this.users[index] = { ...this.formData, id: this.editingUser.id };
                    } else {
                        // æ·»åŠ ç”¨æˆ·
                        this.users.push({
                            ...this.formData,
                            id: this.nextId++
                        });
                    }
                    
                    this.resetForm();
                },
                editUser(user) {
                    this.editingUser = user;
                    this.formData = { ...user };
                },
                deleteUser(id) {
                    if (confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªç”¨æˆ·å—ï¼Ÿ')) {
                        this.users = this.users.filter(u => u.id !== id);
                    }
                },
                cancelEdit() {
                    this.resetForm();
                },
                resetForm() {
                    this.formData = {
                        name: '',
                        email: '',
                        age: null,
                        city: ''
                    };
                    this.editingUser = null;
                }
            }
        }).mount('#app');
    </script>
</body>
</html>
