<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM 操作</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #4CAF50;
            padding-bottom: 10px;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            background: #f9f9f9;
            border-left: 4px solid #4CAF50;
            border-radius: 5px;
        }
        h2 {
            color: #555;
            margin-bottom: 15px;
        }
        button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #45a049;
        }
        .demo-box {
            padding: 15px;
            margin: 10px 0;
            background: #e8f5e9;
            border-radius: 5px;
            min-height: 50px;
        }
        .highlight {
            background: yellow;
            padding: 2px 5px;
        }
        .new-element {
            background: #e3f2fd;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            border-left: 4px solid #2196F3;
        }
        input {
            padding: 8px;
            margin: 5px;
            border: 2px solid #ddd;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>DOM 操作</h1>
        
        <div class="section">
            <h2>1. 选择元素</h2>
            <div id="select-demo" class="demo-box">这是一个演示元素</div>
            <button onclick="demoSelect()">选择元素</button>
            <div id="select-output" class="demo-box"></div>
        </div>
        
        <div class="section">
            <h2>2. 修改内容</h2>
            <div id="content-demo" class="demo-box">原始内容</div>
            <button onclick="changeText()">修改文本</button>
            <button onclick="changeHTML()">修改 HTML</button>
            <button onclick="resetContent()">重置</button>
        </div>
        
        <div class="section">
            <h2>3. 修改样式</h2>
            <div id="style-demo" class="demo-box">样式演示元素</div>
            <button onclick="changeColor()">改变颜色</button>
            <button onclick="changeSize()">改变大小</button>
            <button onclick="toggleVisibility()">显示/隐藏</button>
            <button onclick="resetStyle()">重置样式</button>
        </div>
        
        <div class="section">
            <h2>4. 修改属性</h2>
            <img id="attr-demo" src="https://via.placeholder.com/200x100/4CAF50/ffffff?text=原始图片" alt="演示图片">
            <br>
            <button onclick="changeSrc()">改变图片源</button>
            <button onclick="changeAlt()">改变 alt 属性</button>
            <button onclick="resetAttr()">重置属性</button>
        </div>
        
        <div class="section">
            <h2>5. 创建和添加元素</h2>
            <div id="create-container" class="demo-box">容器：</div>
            <input type="text" id="new-text" placeholder="输入文本" value="新元素">
            <button onclick="createElement()">创建元素</button>
            <button onclick="clearContainer()">清空容器</button>
        </div>
        
        <div class="section">
            <h2>6. 删除元素</h2>
            <div id="delete-container">
                <div class="new-element">元素 1 <button onclick="deleteThis(this)">删除</button></div>
                <div class="new-element">元素 2 <button onclick="deleteThis(this)">删除</button></div>
                <div class="new-element">元素 3 <button onclick="deleteThis(this)">删除</button></div>
            </div>
        </div>
        
        <div class="section">
            <h2>7. 遍历元素</h2>
            <ul id="list-demo">
                <li>项目 1</li>
                <li>项目 2</li>
                <li>项目 3</li>
                <li>项目 4</li>
            </ul>
            <button onclick="traverseElements()">遍历并高亮</button>
            <button onclick="resetList()">重置列表</button>
        </div>
        
        <div class="section">
            <h2>8. 类名操作</h2>
            <div id="class-demo" class="demo-box">类名操作演示</div>
            <button onclick="addClass()">添加类</button>
            <button onclick="removeClass()">移除类</button>
            <button onclick="toggleClass()">切换类</button>
            <button onclick="checkClass()">检查类</button>
            <div id="class-output" class="demo-box"></div>
        </div>
    </div>

    <script>
        // 1. 选择元素
        function demoSelect() {
            let output = "";
            
            // getElementById
            let byId = document.getElementById('select-demo');
            output += "getElementById: " + byId.textContent + "<br>";
            
            // getElementsByClassName
            let byClass = document.getElementsByClassName('demo-box');
            output += "getElementsByClassName: 找到 " + byClass.length + " 个元素<br>";
            
            // getElementsByTagName
            let byTag = document.getElementsByTagName('button');
            output += "getElementsByTagName('button'): 找到 " + byTag.length + " 个按钮<br>";
            
            // querySelector
            let query = document.querySelector('.demo-box');
            output += "querySelector('.demo-box'): " + query.textContent + "<br>";
            
            // querySelectorAll
            let queryAll = document.querySelectorAll('.demo-box');
            output += "querySelectorAll('.demo-box'): 找到 " + queryAll.length + " 个元素<br>";
            
            document.getElementById('select-output').innerHTML = output;
        }
        
        // 2. 修改内容
        function changeText() {
            document.getElementById('content-demo').textContent = "文本内容已修改！";
        }
        
        function changeHTML() {
            document.getElementById('content-demo').innerHTML = 
                "HTML 内容已修改！<strong>这是粗体</strong> <em>这是斜体</em>";
        }
        
        function resetContent() {
            document.getElementById('content-demo').textContent = "原始内容";
        }
        
        // 3. 修改样式
        function changeColor() {
            let elem = document.getElementById('style-demo');
            elem.style.backgroundColor = '#ff9800';
            elem.style.color = 'white';
        }
        
        function changeSize() {
            let elem = document.getElementById('style-demo');
            elem.style.fontSize = '24px';
            elem.style.padding = '25px';
        }
        
        function toggleVisibility() {
            let elem = document.getElementById('style-demo');
            if (elem.style.display === 'none') {
                elem.style.display = 'block';
            } else {
                elem.style.display = 'none';
            }
        }
        
        function resetStyle() {
            let elem = document.getElementById('style-demo');
            elem.style = '';
        }
        
        // 4. 修改属性
        function changeSrc() {
            document.getElementById('attr-demo').src = 
                'https://via.placeholder.com/200x100/e74c3c/ffffff?text=新图片';
        }
        
        function changeAlt() {
            document.getElementById('attr-demo').alt = '新图片描述';
        }
        
        function resetAttr() {
            let img = document.getElementById('attr-demo');
            img.src = 'https://via.placeholder.com/200x100/4CAF50/ffffff?text=原始图片';
            img.alt = '演示图片';
        }
        
        // 5. 创建和添加元素
        function createElement() {
            let text = document.getElementById('new-text').value || '新元素';
            let container = document.getElementById('create-container');
            
            // 创建新元素
            let newDiv = document.createElement('div');
            newDiv.className = 'new-element';
            newDiv.textContent = text;
            
            // 添加到容器
            container.appendChild(newDiv);
        }
        
        function clearContainer() {
            let container = document.getElementById('create-container');
            container.innerHTML = '容器：';
        }
        
        // 6. 删除元素
        function deleteThis(button) {
            button.parentElement.remove();
        }
        
        // 7. 遍历元素
        function traverseElements() {
            let list = document.getElementById('list-demo');
            let items = list.getElementsByTagName('li');
            
            for (let i = 0; i < items.length; i++) {
                setTimeout(() => {
                    items[i].style.backgroundColor = '#ffeb3b';
                    setTimeout(() => {
                        items[i].style.backgroundColor = '';
                    }, 500);
                }, i * 300);
            }
        }
        
        function resetList() {
            let items = document.querySelectorAll('#list-demo li');
            items.forEach(item => {
                item.style.backgroundColor = '';
            });
        }
        
        // 8. 类名操作
        function addClass() {
            document.getElementById('class-demo').classList.add('highlight');
            checkClass();
        }
        
        function removeClass() {
            document.getElementById('class-demo').classList.remove('highlight');
            checkClass();
        }
        
        function toggleClass() {
            document.getElementById('class-demo').classList.toggle('highlight');
            checkClass();
        }
        
        function checkClass() {
            let elem = document.getElementById('class-demo');
            let hasClass = elem.classList.contains('highlight');
            document.getElementById('class-output').innerHTML = 
                "是否包含 'highlight' 类: " + hasClass + "<br>" +
                "所有类名: " + elem.className;
        }
        
        console.log("=== DOM 操作示例 ===");
    </script>
</body>
</html>
