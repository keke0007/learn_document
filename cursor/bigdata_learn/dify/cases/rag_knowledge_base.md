# 案例2：RAG 知识库问答（数据集 + 检索 + 引用）

## 一、案例目标

- 将 `data/faq_kb.md` 与 `data/order_policy.md` 导入数据集。
- 实现“回答必须可引用来源”的知识库问答。
- 使用 `data/sample_queries.json` 做回归验证。

---

## 二、知识库准备建议

### 1. 文档整理

- 规则尽量“条款化”（标题清晰、分点明确）。
- 避免一个段落混杂多个主题（利于切分与检索）。

### 2. 切分策略（学习时建议对比）

- 小 chunk：召回更精确，但可能缺上下文
- 大 chunk：上下文更完整，但噪声更大
- 建议每次只改一个参数，然后用问题集回归验证

---

## 三、检索与回答策略

1. 先检索再回答：把检索结果作为“依据”。
2. 如果检索为空或不匹配：
   - 明确说明“未检索到相关条款”
   - 引导用户补充信息或转人工

---

## 四、验证方法（推荐）

1. 从 `data/sample_queries.json` 选择 10 个问题。
2. 对每个问题记录：
   - 是否命中正确文档片段
   - 答案是否引用了对应条款
   - 是否出现“无依据的推断”

---

## 五、扩展练习

1. 为常见问题创建“标准答案模板”，让输出更一致。
2. 增加“召回不确定性提示”（如：可能有多种规则，需要用户补充订单时间/是否拆封等）。

